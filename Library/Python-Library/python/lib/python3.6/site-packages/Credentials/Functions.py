import json
from googleapiclient.discovery import build
from google.oauth2.credentials import Credentials

# Credentials - Common to all Google APIs
class Creds:
    def __init__(self, creddata):
        self.access_token = creddata['access_token']
        self.refresh_token = creddata['refresh_token']
        self.client_id = creddata['client_id']
        self.token_uri = creddata['token_uri']
        self.client_secret = creddata['client_secret']
        self.scope = creddata['scope']

# Formatting Credential Data into Google's Accepted Format
    def CredFormat(self):
        creds = Credentials(token = self.access_token,
                        refresh_token = self.refresh_token,
                        client_id = self.client_id,
                        token_uri = self.token_uri,
                        client_secret = self.client_secret)
        return(creds)

# Scope Check to ensure Execution
    def ScopeCheck(self, checkvar):
        scopelist = self.scope.split(" ")
        count = 0 
        for i in scopelist: 
            if(i == checkvar) : 
                count = count + 1
                break
        
        if (count == 1):
            return(1)
        else :
            return(0)